"use strict";(self.webpackChunkStorage_Angular=self.webpackChunkStorage_Angular||[]).push([[388],{7388:(A,c,d)=>{d.r(c),d.d(c,{OrdersModule:()=>Z});var l=d(7321),a=d(4581),r=d(5879),g=d(3061),s=d(6814),m=d(625),p=function(e){return e[e.Done=0]="Done",e[e.Pending=1]="Pending",e[e.WaitingForProducts=2]="WaitingForProducts",e}(p||{});function f(e,i){if(1&e&&(r.TgZ(0,"div",4)(1,"p")(2,"strong"),r._uU(3,"Product Name:"),r.qZA(),r._uU(4),r.qZA(),r.TgZ(5,"p")(6,"strong"),r._uU(7,"Quantity:"),r.qZA(),r._uU(8),r.qZA(),r.TgZ(9,"p")(10,"strong"),r._uU(11,"Price:"),r.qZA(),r._uU(12),r.ALo(13,"currency"),r.qZA()()),2&e){const n=i.$implicit;r.xp6(4),r.hij(" ",n.product.name,""),r.xp6(4),r.hij(" ",n.quantity,""),r.xp6(4),r.hij(" ",r.gM2(13,3,n.product.price,"UAH","symbol","1.2-2")," ")}}let _=(()=>{class e{constructor(){this.sendOrderEmitter=new r.vpe}ngOnInit(){this.isOrderWaiting=this.order.orderStatus===p.WaitingForProducts}sendOrder(){this.sendOrderEmitter.emit(this.order.id)}static#r=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275cmp=r.Xpm({type:e,selectors:[["app-order-card"]],inputs:{order:"order"},outputs:{sendOrderEmitter:"sendOrderEmitter"},decls:13,vars:4,consts:[[1,"order-item"],["class","order-info",4,"ngFor","ngForOf"],[1,"user-info"],[1,"send-order-button",3,"disabled","click"],[1,"order-info"]],template:function(o,t){1&o&&(r.TgZ(0,"div",0),r.YNc(1,f,14,8,"div",1),r.TgZ(2,"div",2)(3,"p")(4,"strong"),r._uU(5,"User Name:"),r.qZA(),r._uU(6),r.qZA(),r.TgZ(7,"p")(8,"strong"),r._uU(9,"User Email:"),r.qZA(),r._uU(10),r.qZA()(),r.TgZ(11,"button",3),r.NdJ("click",function(){return t.sendOrder()}),r._uU(12,"Send Order"),r.qZA()()),2&o&&(r.xp6(1),r.Q6J("ngForOf",t.order.orderItems),r.xp6(5),r.hij(" ",t.order.user.name,""),r.xp6(4),r.hij(" ",t.order.user.email,""),r.xp6(1),r.Q6J("disabled",t.isOrderWaiting))},dependencies:[s.sg,s.H9],styles:[".order-item[_ngcontent-%COMP%]{display:flex;border:1px solid #ddd;padding:15px;margin:10px;border-radius:8px;background-color:#f8f8f8;box-shadow:0 0 10px #0000001a;position:relative}.order-info[_ngcontent-%COMP%], .user-info[_ngcontent-%COMP%]{flex:1}p[_ngcontent-%COMP%]{margin:0 0 8px}strong[_ngcontent-%COMP%]{color:#007bff}.send-order-button[_ngcontent-%COMP%]{position:absolute;bottom:10px;right:10px;padding:10px 15px;background-color:#4caf50;color:#fff;border:none;border-radius:4px;cursor:pointer;transition:background-color .3s ease}.send-order-button[_ngcontent-%COMP%]:hover{background-color:#45a049}.send-order-button[_ngcontent-%COMP%]:active{background-color:#398439}.send-order-button[disabled][_ngcontent-%COMP%]{background-color:#ddd;color:#888;cursor:not-allowed}.send-order-button[disabled][_ngcontent-%COMP%]:hover{background-color:#ddd}"]})}return e})();function h(e,i){if(1&e){const n=r.EpF();r.TgZ(0,"app-order-card",5),r.NdJ("sendOrderEmitter",function(t){r.CHM(n);const u=r.oxw(2);return r.KtG(u.handleOrderSending(t))}),r.qZA()}2&e&&r.Q6J("order",i.$implicit)}function O(e,i){1&e&&(r.TgZ(0,"div",6)(1,"h1"),r._uU(2,"No orders yet"),r.qZA()())}function C(e,i){if(1&e&&(r.TgZ(0,"div",2),r.YNc(1,h,1,1,"app-order-card",3),r.YNc(2,O,3,0,"div",4),r.qZA()),2&e){const n=r.oxw();r.xp6(1),r.Q6J("ngForOf",n.orders),r.xp6(1),r.Q6J("ngIf",!n.orders.length)}}function v(e,i){1&e&&r._UZ(0,"app-loading-spinner")}const x=[{path:"",component:(()=>{class e{constructor(n){this.orderService=n,this.isLoading=!0,n.getAllNotDone().subscribe(o=>{this.isLoading=!1,this.orders=o})}handleOrderSending(n){this.isLoading=!0,this.orderService.markOrderAsDone(n).subscribe(()=>{this.orders=this.orders.filter(o=>o.id!==n)}),this.isLoading=!1}static#r=this.\u0275fac=function(o){return new(o||e)(r.Y36(g.p))};static#e=this.\u0275cmp=r.Xpm({type:e,selectors:[["app-user-orders"]],decls:2,vars:2,consts:[["class","orders-wrapper",4,"ngIf"],[4,"ngIf"],[1,"orders-wrapper"],[3,"order","sendOrderEmitter",4,"ngFor","ngForOf"],["class","notFound",4,"ngIf"],[3,"order","sendOrderEmitter"],[1,"notFound"]],template:function(o,t){1&o&&(r.YNc(0,C,3,2,"div",0),r.YNc(1,v,1,0,"app-loading-spinner",1)),2&o&&(r.Q6J("ngIf",t.orders),r.xp6(1),r.Q6J("ngIf",t.isLoading))},dependencies:[s.sg,s.O5,m.g,_],styles:[".orders-wrapper[_ngcontent-%COMP%]{padding:70px 100px;display:flex;flex-direction:column;gap:10px}.notFound[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:30vh}"]})}return e})()}];let b=(()=>{class e{static#r=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275mod=r.oAB({type:e});static#n=this.\u0275inj=r.cJS({imports:[a.Bz.forChild(x),a.Bz]})}return e})(),Z=(()=>{class e{static#r=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275mod=r.oAB({type:e});static#n=this.\u0275inj=r.cJS({imports:[l.m,b]})}return e})()}}]);